---
title: "EDA to Guide Feature Engineering"
output: html_notebook
---

## Ingests Data
This first chunk just pulls the data we ingested into the local environment.

```{r Pulls Data In}
library(magrittr)
data <- readr::read_rds(here::here("./data/tidy/tidy-data.rds"))
```

## Summarizes Dataset
```{r Summary}
psych::describe(data)
```

## Potential Outcome Variables
Our outcome variables (as indicated in the [original study](https://repositorio.inesctec.pt/bitstream/123456789/7179/1/P-00N-9XR.pdf) and a [subsequent study](https://ieeexplore.ieee.org/document/8070120) are the four types of tests that one uses to diagnose HPV:

* Hinselmann
* Schiller
* Cytology
* Biospy

```{r Cancer Diagnoses}
data %>% 
  dplyr::summarise(
    hinselmann_pos = sum(hinselmann),
    schiller_pos = sum(schiller),
    cytology_pos = sum(citology),
    biopsy_pos = sum(biopsy)
    )
```

```{r all tests pos}
data %>%
  dplyr::filter(
    hinselmann == 1 &
      schiller == 1 &
      citology == 1 &
      biopsy == 1
    ) %>%
  dplyr::tally()
```

Only 6 records have all four show positive. Our risk model will likely need to be applied to each and see which it predicts more readily. This will be a good chance to try to functionally program the calculations for odds ratios, Chi-square, and relative risk.

## Potential Risk Factors
I looked at the following sources to consider potential risk factors:

 * The [CDC](https://www.cdc.gov/cancer/cervical/basic_info/risk_factors.htm)
 * The [American Cancer Society](https://www.cancer.org/cancer/cervical-cancer/causes-risks-prevention/risk-factors.html)
 * [Cancer Research UK](https://www.cancerresearchuk.org/about-cancer/cervical-cancer/risks-causes)
 
All of them seem to suggest the following as risk factors: 

* Having HIV
* Smoking
* Using birth control pills for a long time (five or more years)
* Having given birth to three or more children
* Having several sexual partners
* Sexual history at a young age (before 18)
* Having chlamydia or other STIs
* Previous cancer diagnoses

They also recognize the following as a potentially protective factor:

* Using an IUD

### Data on Sexual History

```{r Sexual History}

```

```{r Pregnancies}

```

